<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pago de reservacion | Cuidado con el pug</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css?v=8">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="header-left">
                <a href="/" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 15px;">
                    <img src="/static/images/logo.png" alt="Cuidado con el pug" class="header-logo">
                    <h1>Cuidado con el pug</h1>
                </a>
            </div>
            <div class="header-right">
                <!-- BotÃ³n de login (se oculta cuando hay sesiÃ³n) -->
                <a class="btn btn-login" href="/" style="margin-right: 10px;">Inicio</a>
                <a class="btn btn-login" href="/login" id="loginBtn">Iniciar sesiÃ³n</a>
                
                <!-- MenÃº de usuario (se muestra cuando hay sesiÃ³n) -->
                <div id="userMenuContainer">
                    <button class="user-menu-btn" id="userMenuBtn">
                        <span class="user-icon">ðŸ‘¤</span>
                        <span id="userName">Usuario</span>
                        <span>â–¼</span>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-dropdown-header">
                            <div style="font-weight: 800; font-size: 1.1em;" id="userDropdownName">Usuario</div>
                            <div class="user-dropdown-email" id="userDropdownEmail">usuario@email.com</div>
                        </div>
                        <ul class="user-dropdown-menu">
                            <li class="user-dropdown-item">
                                <a href="#" class="user-dropdown-link" id="profileLink">
                                    <span class="user-dropdown-icon">ðŸ‘¤</span>
                                    <span>Mi Perfil</span>
                                </a>
                            </li>
                            <li class="user-dropdown-item">
                                <a href="#" class="user-dropdown-link" id="reservationsLink">
                                    <span class="user-dropdown-icon">ðŸ“‹</span>
                                    <span>Mis Reservas</span>
                                </a>
                            </li>
                            <li class="user-dropdown-item">
                                <a href="#" class="user-dropdown-link" id="paymentMethodsLink">
                                    <span class="user-dropdown-icon">ðŸ’³</span>
                                    <span>MÃ©todos de Pago</span>
                                </a>
                            </li>
                            <li class="user-dropdown-divider"></li>
                            <li class="user-dropdown-item">
                                <a href="#" class="user-dropdown-link logout" id="logoutBtn">
                                    <span class="user-dropdown-icon">ðŸšº</span>
                                    <span>Cerrar SesiÃ³n</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Page Title -->
    <div class="container" style="margin-top: 30px; margin-bottom: 20px;">
        <h2 style="margin: 0; color: #3575F6;">Pago de reservaciÃ³n</h2>
        <p style="color: #666; margin-top: 8px;">Confirma tus datos y el mÃ©todo de pago</p>
    </div>

    <main class="container">
        <section class="payment-layout">
            <article class="card payment-summary-card">
                <h2>Detalle del viaje</h2>
                <div class="summary-grid-list">
                    <div class="summary-row">
                        <span>Vehiculo</span>
                        <strong id="summaryVehicle">-</strong>
                    </div>
                    <div class="summary-row">
                        <span>Origen</span>
                        <strong id="summaryOrigin">-</strong>
                    </div>
                    <div class="summary-row">
                        <span>Destino</span>
                        <strong id="summaryDestination">-</strong>
                    </div>
                    <div class="summary-row">
                        <span>Pasajeros</span>
                        <strong id="summaryPassengers">-</strong>
                    </div>
                    <div class="summary-row">
                        <span>Precio por dia</span>
                        <strong id="summaryPricePerDay">-</strong>
                    </div>
                </div>

                <h3>Promocion vigente</h3>
                <div class="form-group">
                    <label for="promotionSelect">Selecciona una promocion</label>
                    <select id="promotionSelect">
                        <option value="">Sin promocion</option>
                    </select>
                </div>
                <p id="promotionHelp" class="payment-help">Se aplicara automaticamente al total final.</p>

                <h3>Resumen de cobro</h3>
                <div class="totals-box">
                    <div class="totals-row">
                        <span>Subtotal</span>
                        <strong id="summarySubtotal">$0</strong>
                    </div>
                    <div class="totals-row">
                        <span>Descuento</span>
                        <strong id="summaryDiscount">$0</strong>
                    </div>
                    <div class="totals-row total">
                        <span>Total a pagar</span>
                        <strong id="summaryTotal">$0</strong>
                    </div>
                </div>
            </article>

            <article class="card">
                <h2>Informacion de pago</h2>
                <form id="paymentForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="payerName">Nombre completo</label>
                            <input id="payerName" name="payer_name" type="text" required>
                        </div>
                        <div class="form-group">
                            <label for="payerEmail">Correo</label>
                            <input id="payerEmail" name="payer_email" type="email" required>
                        </div>
                        <div class="form-group">
                            <label for="payerPhone">Telefono</label>
                            <input id="payerPhone" name="payer_phone" type="tel" required>
                        </div>
                    </div>

                    <h3>Datos de reservacion</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="startDate">Fecha de salida</label>
                            <input id="startDate" name="start_date" type="date" required>
                        </div>
                        <div class="form-group">
                            <label for="endDate">Fecha de regreso</label>
                            <input id="endDate" name="end_date" type="date" required>
                        </div>
                        <div class="form-group">
                            <label for="pickupLocation">Lugar de salida</label>
                            <input id="pickupLocation" name="pickup_location" type="text" minlength="3" required>
                        </div>
                        <div class="form-group">
                            <label for="returnLocation">Lugar de regreso</label>
                            <input id="returnLocation" name="return_location" type="text" minlength="3" required>
                        </div>
                    </div>

                    <h3>Metodo de pago</h3>
                    <div class="payment-method-grid">
                        <label class="method-item">
                            <input type="radio" name="payment_method" value="efectivo" checked>
                            <span>Efectivo</span>
                        </label>
                        <label class="method-item">
                            <input type="radio" name="payment_method" value="tarjeta">
                            <span>Tarjeta debito/credito</span>
                        </label>
                        <label class="method-item">
                            <input type="radio" name="payment_method" value="msi">
                            <span>Meses sin intereses</span>
                        </label>
                        <label class="method-item">
                            <input type="radio" name="payment_method" value="cheque">
                            <span>Cheque</span>
                        </label>
                        <label class="method-item">
                            <input type="radio" name="payment_method" value="deposito">
                            <span>Deposito</span>
                        </label>
                    </div>

                    <section id="fieldsTarjeta" class="method-fields" hidden>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="cardHolder">Nombre en tarjeta</label>
                                <input id="cardHolder" type="text">
                            </div>
                            <div class="form-group">
                                <label for="cardNumber">Numero de tarjeta</label>
                                <input id="cardNumber" type="text" inputmode="numeric" maxlength="19" placeholder="1111 2222 3333 4444">
                            </div>
                            <div class="form-group">
                                <label for="cardExpiry">Vencimiento</label>
                                <input id="cardExpiry" type="month">
                            </div>
                            <div class="form-group">
                                <label for="cardCvv">CVV</label>
                                <input id="cardCvv" type="password" inputmode="numeric" maxlength="4" placeholder="123">
                            </div>
                        </div>
                    </section>

                    <section id="fieldsMsi" class="method-fields" hidden>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="msiCardHolder">Nombre en tarjeta</label>
                                <input id="msiCardHolder" type="text">
                            </div>
                            <div class="form-group">
                                <label for="msiCardNumber">Numero de tarjeta</label>
                                <input id="msiCardNumber" type="text" inputmode="numeric" maxlength="19" placeholder="1111 2222 3333 4444">
                            </div>
                            <div class="form-group">
                                <label for="msiCardExpiry">Vencimiento</label>
                                <input id="msiCardExpiry" type="month">
                            </div>
                            <div class="form-group">
                                <label for="msiCardCvv">CVV</label>
                                <input id="msiCardCvv" type="password" inputmode="numeric" maxlength="4" placeholder="123">
                            </div>
                            <div class="form-group">
                                <label for="msiMonths">Plazo MSI</label>
                                <select id="msiMonths">
                                    <option value="">Selecciona plazo</option>
                                    <option value="3">3 meses</option>
                                    <option value="6">6 meses</option>
                                    <option value="9">9 meses</option>
                                    <option value="12">12 meses</option>
                                    <option value="18">18 meses</option>
                                </select>
                            </div>
                        </div>
                    </section>

                    <section id="fieldsCheque" class="method-fields" hidden>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="checkBank">Banco emisor</label>
                                <input id="checkBank" type="text">
                            </div>
                            <div class="form-group">
                                <label for="checkNumber">Numero de cheque</label>
                                <input id="checkNumber" type="text">
                            </div>
                            <div class="form-group">
                                <label for="checkHolder">Titular del cheque</label>
                                <input id="checkHolder" type="text">
                            </div>
                        </div>
                    </section>

                    <section id="fieldsDeposito" class="method-fields" hidden>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="depositBank">Banco de deposito</label>
                                <input id="depositBank" type="text">
                            </div>
                            <div class="form-group">
                                <label for="depositRef">Referencia de deposito</label>
                                <input id="depositRef" type="text">
                            </div>
                            <div class="form-group">
                                <label for="depositDate">Fecha de deposito</label>
                                <input id="depositDate" type="date">
                            </div>
                        </div>
                    </section>

                    <div class="form-group">
                        <label for="paymentNotes">Notas adicionales</label>
                        <textarea id="paymentNotes" rows="3" placeholder="Ejemplo: entregar en terminal norte"></textarea>
                    </div>

                    <label class="terms-check">
                        <input id="acceptTerms" type="checkbox" required>
                        <span>Confirmo que los datos son correctos y autorizo el proceso de pago.</span>
                    </label>

                    <div class="payment-actions">
                        <button class="btn btn-secondary" type="button" id="cancelPaymentBtn">Cancelar</button>
                        <button class="btn btn-primary" type="submit" id="confirmPaymentBtn">Confirmar pago y reservar</button>
                    </div>
                </form>

                <p id="paymentMessage" class="payment-message" hidden></p>
            </article>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p><strong>Cuidado con el pug</strong></p>
            <div class="footer-links">
                <a href="#" onclick="openFooterModal('terminos'); return false;">TÃ©rminos y condiciones</a>
                <a href="#" onclick="openFooterModal('legal'); return false;">InformaciÃ³n legal</a>
                <a href="#" onclick="openFooterModal('privacidad'); return false;">Aviso de privacidad</a>
            </div>
            <p class="footer-copyright">Cuidado con el pug N.L. Calle linsana #69, cp 42067, San Nicolas de los Garza, Mexico</p>
            <p class="footer-copyright">Copyright 2026 Cuidado con el pug | Todos los derechos reservados</p>
        </div>
    </footer>

    <!-- Modal de Footer -->
    <div id="footerModal" class="footer-modal">
        <div class="footer-modal-content">
            <div class="footer-modal-header">
                <h2 id="footerModalTitle"></h2>
                <button class="footer-modal-close">&times;</button>
            </div>
            <div class="footer-modal-body" id="footerModalBody">
            </div>
        </div>
    </div>

    <script src="/static/footer-modals.js?v=1"></script>
    <script src="/static/user-menu.js?v=1"></script>
    <script src="/static/payment.js?v=payment1"></script>
</body>
</html>
